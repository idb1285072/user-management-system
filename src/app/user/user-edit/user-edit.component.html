<div class="container mt-5">
  <div class="card shadow-lg border-0 rounded-3">
    <div class="card-header bg-dark text-white">
      <h4 class="mb-0">{{ isEditMode ? "Edit User" : "Add User" }}</h4>
    </div>
    <div class="card-body">
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">Name</label>
            <input type="text" class="form-control" formControlName="name" />
            <span
              class="text-danger"
              style="font-size: x-small"
              *ngIf="
                userForm.get('name')?.touched && userForm.get('name')?.invalid
              "
            >
              Name is required.
            </span>
          </div>

          <div class="col-md-3">
            <label class="form-label">Age</label>
            <input type="number" class="form-control" formControlName="age" />
            <span
              class="text-danger"
              style="font-size: x-small"
              *ngIf="
                userForm.get('age')?.touched &&
                userForm.get('age')?.getError('required')
              "
            >
              Age is required.
            </span>
            <span
              class="text-danger"
              style="font-size: x-small"
              *ngIf="
                userForm.get('age')?.touched &&
                userForm.get('age')?.getError('min')
              "
            >
              Age must be at least 18.
            </span>
            <span
              class="text-danger"
              style="font-size: x-small"
              *ngIf="
                userForm.get('age')?.touched &&
                userForm.get('age')?.getError('max')
              "
            >
              Age must be max 120 years.
            </span>
          </div>

          <div class="col-md-3">
            <label class="form-label">Role</label>
            <select class="form-select" formControlName="role">
              <option [ngValue]="UserType.SuperAdmin">SuperAdmin</option>
              <option [ngValue]="UserType.Admin">Admin</option>
              <option [ngValue]="UserType.Moderator">Moderator</option>
              <option [ngValue]="UserType.Editor">Editor</option>
              <option [ngValue]="UserType.Author">Author</option>
              <option [ngValue]="UserType.Contributor">Contributor</option>
              <option [ngValue]="UserType.User">User</option>
            </select>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" formControlName="email" />
          <span
            class="text-danger"
            style="font-size: x-small"
            *ngIf="
              userForm.get('email')?.touched &&
              userForm.get('email')?.hasError('required')
            "
          >
            Email is required.
          </span>

          <span
            class="text-danger"
            style="font-size: x-small"
            *ngIf="
              userForm.get('email')?.touched &&
              userForm.get('email')?.hasError('email')
            "
          >
            Enter a valid email format.
          </span>

          <span
            class="text-danger"
            style="font-size: x-small"
            *ngIf="
              userForm.get('email')?.touched &&
              userForm.get('email')?.hasError('notUniqueEmail')
            "
          >
            Email already exists. Please choose another.
          </span>
        </div>

        <div class="mb-3">
          <label class="form-label">Phone</label>
          <input type="text" class="form-control" formControlName="phone" />
        </div>

        <div class="mb-3">
          <label class="form-label">Registered Date</label>
          <input
            type="date"
            class="form-control"
            rows="2"
            formControlName="registeredDate"
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Address</label>
          <textarea
            class="form-control"
            rows="2"
            formControlName="address"
          ></textarea>
        </div>

        <div class="d-flex justify-content-end">
          <button
            type="button"
            class="btn btn-secondary me-2"
            (click)="onCancel()"
          >
            Cancel
          </button>
          <button
            type="submit"
            class="btn btn-success"
            [disabled]="userForm.invalid"
          >
            {{ isEditMode ? "Update" : "Add" }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
